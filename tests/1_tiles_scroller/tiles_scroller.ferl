# Ferral: model devstral-small-2:latest
# Ferral: num_predict 256

import pygame
import random

def generate_grass():
    global grass_tile
    if 'grass_tile' not in globals():
        grass_tile = pygame.Surface((64, 64))
        for y in range(64):
            for x in range(64):
                intensity = int(255 * (1 - min(x/64, y/64)))
                grass_tile.set_at((x, y), (34, intensity, 34, intensity))
    return grass_tile

# Ferral: Make function that set global Pygame var screen, call it init_screen(). Screen size is 1280x720. Do not import pygame, it is imported already.

# Ferral: Make pygame function that will fill entire pygame screen with 64x64 surface copies from generate_grass func, it must be populated with copies of tile, call it fill_screen_with_grass, do not import pygame, it is imported already. Use global var called screen. Make grass_tile by calling generate_grass func, it is already in the code. Render start point is x: -64, y:0. Use "global x_tile_offset" at function beginning, make addition to x as global x_tile_offset % 64 before rendering rows. Make only tiling function, nothing more.

# Ferral: Make pygame game loop function called gameloop, do not import pygame, there is global var called "running". There is global function called fill_screen_with_grass, call it on each frame. Add "global running" and "while running" loop. After calling fill_screen_with_grass func, make flip screen surface. Make addition 1 to global x_tile_offset var, every frame. Make only function, poll events, handle close event handling there, nothing more.

x_tile_offset = 0
running = True
init_screen()
gameloop()
